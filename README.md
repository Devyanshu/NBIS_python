## NBIS using Python

### Python scripts to carry out some tasks using NBIS on FVC databases.

#### minutiae_dtct.py

This Python file generates the .xyt files from the given .jpeg or .wsq image,
in addition to the .xyt files, the mindtct, program of [NBIS](https://www.nist.gov/services-resources/software/nist-biometric-image-software-nbis) also generates
other formats, which can be removed using a seperate Python file named
'delete_files.py'. Provide the path of the directory containing the images
and path of the directory to store the files generated by the mindtct program.
Make sure that mindtct in available on your path for this code to work
correctly, if your don't want to add mindtct to yout path, provide the path in the file.
##### Usage
`python minutiae_dtct.py -p <path to image files> -s <location to save>`

#### generate_partial_fp.py

This Python file will generate partial fingerprints of size 150x150
from the images of a given directory.
Partial fingerprints will be generated with a 50% overlap, to change this,
change the value of overlap variable, in fractions. Provide a path to the
original image directory and a path to location to save the images.
The partial images are saved with the same name as the original image
follwed by RxC, where R is the row from which the partial image is created
and C is the column. For more detail see [here](https://github.com/Devyanshu/image-split-with-overlap).
##### Usage
`python generate_partial_fp.py -p <path to full image files> -s <location to save>`

##### Sample Image
![Sample Image](/images/102_1.jpg)
###### Image : FVC 2002 DB1 Part B, 102_1.tif
##### Partial fingerprints with 50% overlap
|  ![Splitted Image](/images/102_1-1x1.jpeg) | ![Splitted Image](/images/102_1-1x2.jpeg)  | ![Splitted Image](/images/102_1-1x3.jpeg)  |  ![Splitted Image](/images/102_1-1x4.jpeg) |  
|:-:|:-:|:-:|:-:|
|  ![Splitted Image](/images/102_1-2x1.jpeg) | ![Splitted Image](/images/102_1-2x2.jpeg)  | ![Splitted Image](/images/102_1-2x3.jpeg)  |  ![Splitted Image](/images/102_1-2x4.jpeg) |   
|  ![Splitted Image](/images/102_1-3x1.jpeg) | ![Splitted Image](/images/102_1-3x2.jpeg)  | ![Splitted Image](/images/102_1-3x3.jpeg)  |  ![Splitted Image](/images/102_1-3x4.jpeg) |   
|  ![Splitted Image](/images/102_1-4x1.jpeg) | ![Splitted Image](/images/102_1-4x2.jpeg)  | ![Splitted Image](/images/102_1-4x3.jpeg)  |  ![Splitted Image](/images/102_1-4x4.jpeg) |   

#### run_bozorth3.py
This Python file takes a directory and matches xyt files,
one by one, to all the xyt files in the directory. Thus, it is assumed that
the path given has only xyt files.
The result of the bozorth3 comparison is displayed as the output on the
terminal, to save the result to a text file for processing, use the '>>'
operator to append the output.

##### Usage
`python run_bozorth3.py -p <path to xyt files> >> result.txt`

#### delete_files.py
This file deletes all other formats generated by the mindtct tool on NBIS,
it only keeps those formats that are present in the 'formats' set.
It also removes those .xyt files that have minutiae<10. Provide the path to the xyt files. 
##### Usage
`python delete_files.py -p PATH [-x] [-l] [-b]`  
`-x : to remove files of other all formats except '.xyt'.`  
`-l : to remove files of less than X minutiae, X can be changed from the code.`  
`-b : to do both the above tasks one after another.`  

#### delete_useless_splits.py
This Python file deletes the all the partial image in a directory that have less than 10 minutiaes using
its corresponding xyt file. 

##### Usage
`python delete_useless_splits.py -x <path to xyt directory> -i <path to image directory>`
